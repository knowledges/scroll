!function(e,t){var i=function(){"use strict";this._dom={content:$("#content"),paging_UL:$("#pull-paging-ul")},this._dom.content.on("touchstart",this.full_touchStart.bind(this)),this._dom.content.on("touchmove",this.full_touchMove.bind(this)),this._dom.content.on("touchend",this.full_touchEnd.bind(this))};return i.prototype={iCurIndex:0,paging_index:0,startX:0,startY:0,endX:0,endY:0,X:0,Y:0,full_touchStart:function(e){e.preventDefault(),e.stopPropagation(),this.startX=e.originalEvent.changedTouches[0].pageX,this.startY=e.originalEvent.changedTouches[0].pageY},full_touchMove:function(e){e.preventDefault(),e.stopPropagation(),this.endX=e.originalEvent.changedTouches[0].pageX,this.endY=e.originalEvent.changedTouches[0].pageY},full_touchEnd:function(t){t.preventDefault(),t.stopPropagation();var i=t||e.e,n=i.target||i.srcElement,a=n.nodeName.toLowerCase(),o=this;o.X=o.endX-o.startX,o.Y=o.endY-o.startY,o.touchEnd_Method(n,a,o.X,o.Y)},touchEnd_Method:function(t,i,n,a){var o=this;if("a"==i||"span"==i){var r=$(t).attr("class");"up"==r||"btn btn_up"==r?(--o.paging_index,_W=o.paging_W(o.paging_index)):(++o.paging_index,_W=o.paging_W(o.paging_index)),o._dom.paging_UL.delay(100).animate({left:-_W+"px"},500)}else if("button"==i)navigator.userAgent.match(/Android/i)?e.location.href="http://loocha.cn/acc":"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?$("#mask-share").fadeIn(1e3):navigator.userAgent.match(/iPhone/i)&&(e.location.href="https://itunes.apple.com/cn/app/loocha-ban-ji-yun/id582509921");else{if(0==o.endY||0==o.endX)return void o.clearCoor();if(Math.abs(a)>Math.abs(n)&&a>30){if(o.iCurIndex<=0)return;var d=o._dom.content;d.children().eq(o.iCurIndex).removeClass("nxt-page nxt-page-out").addClass("nxt-page-out"),--o.iCurIndex,o.clearOpacity(o.iCurIndex);var s=o._getDivHeight(o.iCurIndex);d.css({top:-s+"px"}).children().eq(o.iCurIndex).removeClass("nxt-page").addClass("nxt-page"),o.clearCoor()}else if(Math.abs(a)>Math.abs(n)&&-30>a){if(o.iCurIndex>=2)return;var d=o._dom.content;d.children().eq(o.iCurIndex).removeClass("pre-page pre-page-out").addClass("pre-page-out"),++o.iCurIndex,o.clearOpacity(o.iCurIndex);var s=o._getDivHeight(o.iCurIndex);d.css({top:-s+"px"}).children().eq(o.iCurIndex).removeClass("pre-page").addClass("pre-page"),o.clearCoor()}}setTimeout(function(){o.animation_page(o.iCurIndex)},400)},_getDivHeight:function(e){var t=this,i=t._dom.content.children().length,n=t._dom.content.children().height();return 0>e?void(t.iCurIndex=0):e>=i?void(t.iCurIndex=i-1):e*n},paging_W:function(e){var t=this,i=t._dom.paging_UL.find("li").length,n=t._dom.paging_UL.find("li").eq(0).width();return 0>e?void(t.paging_index=0):e>=i?void(t.paging_index=i-1):e*n},clearOpacity:function(e){0==e?($("#hi-icon").removeClass("move-img-left"),$("#fir-h1-title,#fir-h3-title,#fir-download").removeClass("move-img-right-d"),$("#fir-img").removeClass("move-img-left-u"),$("#hi-icon,#fir-h1-title,#fir-h3-title,#fir-download,#fir-img").css("opacity","0")):1==e?$("#sen-h1-title,#sen-h3-title").removeClass("move-img-right-d").css("opacity","0"):($("#tr-h2-title,#tr-h4-title").removeClass("move-img-right-d"),$("#end-img-1").removeClass("move-img-left"),$("#end-img-2").removeClass("move-img-right-d"),$("#end-img-3,#end-download").removeClass("move-img-left-u"),$("#end-img-4").removeClass("move-img-right"),$("#tr-h2-title,#tr-h4-title,#end-img-1,#end-img-2,#end-img-3,#end-download,#end-img-4").css("opacity","0"))},clearCoor:function(){this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.X=0,this.Y=0},animation_page:function(e){0==e?($("#hi-icon").addClass("move-img-left"),$("#fir-h1-title,#fir-h3-title,#fir-download").addClass("move-img-right-d"),$("#fir-img").addClass("move-img-left-u")):1==e?$("#sen-h1-title,#sen-h3-title").addClass("move-img-right-d"):($("#tr-h2-title,#tr-h4-title").addClass("move-img-right-d"),$("#end-img-1").addClass("move-img-left"),$("#end-img-2").addClass("move-img-right-d"),$("#end-img-3,#end-download").addClass("move-img-left-u"),$("#end-img-4").addClass("move-img-right"))},init:function(t){var i=e.screen.height;e.screen.width;$("#first-page,#scend-page,#tr-page").css({height:i+"px"});var n=$("#pull-paging"),a=n.width(),o=n.find("li");o.width(a);n.find("ul").css({width:o.width()*o.length+200+"px"})}},(new i).init()}(window);